"0",""
"0","quality_check <- data.frame("
"0","  Dataset = character(),"
"0","  Rows = numeric(),"
"0","  Years = character(),"
"0","  LSOAs = numeric(),"
"0","  Income_NA = numeric(),"
"0","  Price_NA = numeric(),"
"0","  Crime_NA = numeric(),"
"0","  Mobility_NA = numeric(),"
"0","  stringsAsFactors = FALSE)"
"0",""
"0","for(dataset_name in names(datasets)) {"
"0","  dataset <- datasets[[dataset_name]]"
"0","  "
"0","  if(!is.null(dataset)) {"
"0","    missing_summary <- dataset %>%"
"0","      summarise("
"0","        income_na = sum(is.na(lsoa_income_estimate)),"
"0","        price_na = sum(is.na(median_price)),"
"0","        crime_na = sum(is.na(`crime rate`)),"
"0","        mobility_na = sum(is.na(mobility)))"
"0","    "
"0","    quality_check <- rbind(quality_check, data.frame("
"0","      Dataset = dataset_name,"
"0","      Rows = nrow(dataset),"
"0","      Years = paste(sort(unique(dataset$year)), collapse = "", ""),"
"0","      LSOAs = length(unique(dataset$LSOA11CD)),"
"0","      Income_NA = missing_summary$income_na,"
"0","      Price_NA = missing_summary$price_na,"
"0","      Crime_NA = missing_summary$crime_na,"
"0","      Mobility_NA = missing_summary$mobility_na))}}"
"0",""
"0","print(quality_check)"
